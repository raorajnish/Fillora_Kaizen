# OAuth Setup Instructions

## Fix: "You can't sign in to this app because it doesn't comply with Google's OAuth 2.0 policy"

This error occurs because the Chrome extension's redirect URI needs to be registered in Google Cloud Console.

### Step 1: Get Your Extension's Redirect URI

The redirect URI is automatically generated by Chrome and follows this format:

```
https://<your-extension-id>.chromiumapp.org/
```

**From the error message, your redirect URI is:**

```
https://hijfpdebgoigcjhannhjnhbmlglagmdo.chromiumapp.org/
```

You can also find it by:

1. Opening the extension popup
2. Opening the browser console (right-click popup → Inspect)
3. Look for the log message: "OAuth Redirect URI: ..."

### Step 2: Add Redirect URI to Google Cloud Console

1. **Go to [Google Cloud Console](https://console.cloud.google.com/)**

2. **Select your project** (the one where you created the OAuth credentials)

3. **Navigate to APIs & Services > Credentials**

   - Click the hamburger menu (☰) in the top left
   - Go to "APIs & Services" > "Credentials"

4. **Click on your OAuth 2.0 Client ID**

   - Find the client ID you're using for the extension
   - Click on it to edit

5. **Add the Redirect URI**
   - Scroll down to "Authorized redirect URIs"
   - Click "+ ADD URI"
   - Paste your redirect URI: `https://hijfpdebgoigcjhannhjnhbmlglagmdo.chromiumapp.org/`
   - **Important:** Make sure to include the trailing slash `/`
   - Click "SAVE"

### Step 3: Wait for Changes to Propagate

- Changes usually take effect immediately, but can take up to 5 minutes
- Try logging in again after saving

### Step 4: Verify

After adding the redirect URI, try logging in again. The OAuth flow should work now.

## Alternative: Get Redirect URI Programmatically

If you need to find your extension's redirect URI, you can:

1. Open the extension popup
2. Open the browser console (right-click popup → Inspect)
3. Run this command:
   ```javascript
   chrome.identity.getRedirectURL();
   ```
4. Copy the returned URL and add it to Google Cloud Console

## Notes

- Each Chrome extension has a unique extension ID, so each extension needs its own redirect URI
- If you're developing locally, the extension ID changes when you reload the extension in developer mode
- For production, you'll need to use the extension ID from the Chrome Web Store
- The redirect URI format is always: `https://<extension-id>.chromiumapp.org/`
